{"ast":null,"code":"import _slicedToArray from\"D:/dev/Rest_Calc/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from\"react\";import{TextField,Box,InputAdornment}from\"@mui/material\";import{getTotalMoney}from\"../utils/pricesCalc\";import useLocalStorage from\"../utils/localStorage\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function MoneyInput(_ref){var handleChange=_ref.handleChange,menu=_ref.menu;var _useLocalStorage=useLocalStorage(\"money\",0),_useLocalStorage2=_slicedToArray(_useLocalStorage,2),money=_useLocalStorage2[0],setMoney=_useLocalStorage2[1];var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),hasChanged=_React$useState2[0],setChange=_React$useState2[1];var handleMoneyChange=function handleMoneyChange(e){setMoney(e.target.value);handleChange(e.target.value);setChange(true);};React.useEffect(function(){if(!money&&menu||!hasChanged&&!localStorage.getItem(\"money\")){setMoney(getTotalMoney(menu));handleChange(getTotalMoney(menu));}if(!money&&menu)setChange(false);},[menu]);return/*#__PURE__*/_jsx(Box,{autoComplete:\"off\",component:\"form\",noValidate:true,sx:{marginBottom:1},children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Quantit\\xE9 d'argent restante\",onChange:handleMoneyChange,value:money,type:\"number\",InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:\"\\u20AC\"})}})});}","map":{"version":3,"names":["React","TextField","Box","InputAdornment","getTotalMoney","useLocalStorage","MoneyInput","handleChange","menu","money","setMoney","useState","hasChanged","setChange","handleMoneyChange","e","target","value","useEffect","localStorage","getItem","marginBottom","endAdornment"],"sources":["D:/dev/Rest_Calc/src/DataSelection/MoneyInput.js"],"sourcesContent":["import * as React from \"react\"\r\nimport { TextField, Box, InputAdornment } from \"@mui/material\"\r\nimport { getTotalMoney } from \"../utils/pricesCalc\"\r\nimport useLocalStorage from \"../utils/localStorage\"\r\n\r\nexport default function MoneyInput({ handleChange, menu }) {\r\n    const [money, setMoney] = useLocalStorage(\"money\", 0)\r\n    const [hasChanged, setChange] = React.useState(false)\r\n\r\n    const handleMoneyChange = (e) => {\r\n        setMoney(e.target.value)\r\n        handleChange(e.target.value)\r\n        setChange(true)\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        if ((!money && menu) || !hasChanged && !localStorage.getItem(\"money\")) {\r\n            setMoney(getTotalMoney(menu))\r\n            handleChange(getTotalMoney(menu))\r\n        }\r\n        if (!money && menu) setChange(false)\r\n    }, [menu])\r\n\r\n    return (<Box \r\n    autoComplete=\"off\" \r\n    component=\"form\"\r\n    noValidate\r\n    sx={{\r\n        marginBottom: 1\r\n    }}>\r\n        <TextField \r\n            fullWidth\r\n            label=\"Quantité d'argent restante\" \r\n            onChange={handleMoneyChange}\r\n            value={money}\r\n            type=\"number\"\r\n            InputProps={{\r\n                 endAdornment: <InputAdornment position=\"end\">€</InputAdornment>\r\n            }}\r\n            />\r\n    </Box>)\r\n}"],"mappings":"sGAAA,MAAO,GAAKA,MAAK,KAAM,OAAO,CAC9B,OAASC,SAAS,CAAEC,GAAG,CAAEC,cAAc,KAAQ,eAAe,CAC9D,OAASC,aAAa,KAAQ,qBAAqB,CACnD,MAAOC,gBAAe,KAAM,uBAAuB,4CAEnD,cAAe,SAASC,WAAU,MAAyB,IAAtBC,aAAY,MAAZA,YAAY,CAAEC,IAAI,MAAJA,IAAI,CACnD,qBAA0BH,eAAe,CAAC,OAAO,CAAE,CAAC,CAAC,sDAA9CI,KAAK,sBAAEC,QAAQ,sBACtB,oBAAgCV,KAAK,CAACW,QAAQ,CAAC,KAAK,CAAC,oDAA9CC,UAAU,qBAAEC,SAAS,qBAE5B,GAAMC,kBAAiB,CAAG,QAApBA,kBAAiB,CAAIC,CAAC,CAAK,CAC7BL,QAAQ,CAACK,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CACxBV,YAAY,CAACQ,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC5BJ,SAAS,CAAC,IAAI,CAAC,CACnB,CAAC,CAEDb,KAAK,CAACkB,SAAS,CAAC,UAAM,CAClB,GAAK,CAACT,KAAK,EAAID,IAAI,EAAK,CAACI,UAAU,EAAI,CAACO,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAE,CACnEV,QAAQ,CAACN,aAAa,CAACI,IAAI,CAAC,CAAC,CAC7BD,YAAY,CAACH,aAAa,CAACI,IAAI,CAAC,CAAC,CACrC,CACA,GAAI,CAACC,KAAK,EAAID,IAAI,CAAEK,SAAS,CAAC,KAAK,CAAC,CACxC,CAAC,CAAE,CAACL,IAAI,CAAC,CAAC,CAEV,mBAAQ,KAAC,GAAG,EACZ,YAAY,CAAC,KAAK,CAClB,SAAS,CAAC,MAAM,CAChB,UAAU,MACV,EAAE,CAAE,CACAa,YAAY,CAAE,CAClB,CAAE,uBACE,KAAC,SAAS,EACN,SAAS,MACT,KAAK,CAAC,+BAA4B,CAClC,QAAQ,CAAEP,iBAAkB,CAC5B,KAAK,CAAEL,KAAM,CACb,IAAI,CAAC,QAAQ,CACb,UAAU,CAAE,CACPa,YAAY,cAAE,KAAC,cAAc,EAAC,QAAQ,CAAC,KAAK,oBACjD,CAAE,EACA,EACJ,CACV"},"metadata":{},"sourceType":"module"}