{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.getNEGPossibilitesAsList = exports.getOFPossibilitesAsList = void 0;\nvar pricesCalc_1 = require(\"./pricesCalc\");\n// Les différentes choses qu'on peut faire avec l'argent en trop\n// Formatage : X remplacé par la quantité, $s pour le pluriel/singulier\nvar data = [{\n  price: 1.87,\n  label: \"Acheter X cookie$s\"\n}, {\n  price: 1.40,\n  label: \"Acheter X cannette$s\"\n}, {\n  price: 4,\n  label: \"Acheter X croque-monsieur$s/panini$s\"\n}, {\n  price: \"dej\",\n  label: \"Aller X fois au point A\"\n}, {\n  price: \"meal\",\n  label: \"Doubler X fois au RI\"\n}];\n/**\r\n * @param remaining The amount of money remaining\r\n * @param menu The menu of the user\r\n * @param isGoingToPtA If breakfasts are already selected (so you don't tell the user to go to the pt A if they are doing it already)\r\n * @returns {string} All the different possibilities to waste your money\r\n */\nfunction getOFPossibilitesAsList(remaining, menu, isGoingToPtA) {\n  var returnString = \"\\n\";\n  data.forEach(function (x) {\n    var amount = 0;\n    if (typeof x.price === \"number\") {\n      amount = Math.floor(remaining / x.price);\n    } else {\n      amount = Math.floor(remaining / (x.price === \"dej\" ? (0, pricesCalc_1.getDejPrice)(menu) : (0, pricesCalc_1.getMealPrice)(menu)));\n    }\n    if (amount > 0 && (!isGoingToPtA || x.price !== \"dej\")) {\n      returnString += \"- \" + x.label.replace('X', amount.toString()).replaceAll(amount > 1 ? '$' : '$s', '') + \"\\n\";\n    }\n  });\n  return returnString;\n}\nexports.getOFPossibilitesAsList = getOFPossibilitesAsList;\n/**\r\n * @param remaining The amount of money missing\r\n * @param menu The menu of the user\r\n * @param dejNumber The number of breakfasts the user does\r\n * @returns {string} The possibilites to save money\r\n */\nfunction getNEGPossibilitesAsList(remaining, menu, dejNumber) {\n  var returnString = \"\\n\";\n  var missing = Math.abs(remaining);\n  // Checking if you can reduce the number of breakfasts\n  if (dejNumber > 0) {\n    var dejAmount = Math.ceil(missing / (0, pricesCalc_1.getDejPrice)(menu));\n    // Checking if money is still missing afterwards\n    if (dejAmount > dejNumber) {\n      var stillMissing = (dejAmount - dejNumber) * (0, pricesCalc_1.getDejPrice)(menu);\n      var mealAmount = Math.ceil(stillMissing / (0, pricesCalc_1.getMealPrice)(menu));\n      returnString += \" - Ne pas aller au point A du tout et ne pas aller au RI \" + mealAmount + \" fois\\n\";\n    } else {\n      returnString += \"- Ne pas aller au point A \" + dejAmount + \" fois\\n\";\n    }\n  }\n  var mealAmountB = Math.ceil(missing / (0, pricesCalc_1.getMealPrice)(menu));\n  returnString += \"- Ne pas aller au RI \" + mealAmountB + \" fois\";\n  return returnString;\n}\nexports.getNEGPossibilitesAsList = getNEGPossibilitesAsList;","map":{"version":3,"names":["exports","__esModule","getNEGPossibilitesAsList","getOFPossibilitesAsList","pricesCalc_1","require","data","price","label","remaining","menu","isGoingToPtA","returnString","forEach","x","amount","Math","floor","getDejPrice","getMealPrice","replace","toString","replaceAll","dejNumber","missing","abs","dejAmount","ceil","stillMissing","mealAmount","mealAmountB"],"sources":["D:/dev/Rest_Calc/src/utils/overflowcalc.js"],"sourcesContent":["\"use strict\";\r\nexports.__esModule = true;\r\nexports.getNEGPossibilitesAsList = exports.getOFPossibilitesAsList = void 0;\r\nvar pricesCalc_1 = require(\"./pricesCalc\");\r\n// Les différentes choses qu'on peut faire avec l'argent en trop\r\n// Formatage : X remplacé par la quantité, $s pour le pluriel/singulier\r\nvar data = [\r\n    {\r\n        price: 1.87,\r\n        label: \"Acheter X cookie$s\"\r\n    },\r\n    {\r\n        price: 1.40,\r\n        label: \"Acheter X cannette$s\"\r\n    },\r\n    {\r\n        price: 4,\r\n        label: \"Acheter X croque-monsieur$s/panini$s\"\r\n    },\r\n    {\r\n        price: \"dej\",\r\n        label: \"Aller X fois au point A\"\r\n    },\r\n    {\r\n        price: \"meal\",\r\n        label: \"Doubler X fois au RI\"\r\n    }\r\n];\r\n/**\r\n * @param remaining The amount of money remaining\r\n * @param menu The menu of the user\r\n * @param isGoingToPtA If breakfasts are already selected (so you don't tell the user to go to the pt A if they are doing it already)\r\n * @returns {string} All the different possibilities to waste your money\r\n */\r\nfunction getOFPossibilitesAsList(remaining, menu, isGoingToPtA) {\r\n    var returnString = \"\\n\";\r\n    data.forEach(function (x) {\r\n        var amount = 0;\r\n        if (typeof (x.price) === \"number\") {\r\n            amount = Math.floor(remaining / x.price);\r\n        }\r\n        else {\r\n            amount = Math.floor(remaining / (x.price === \"dej\" ? (0, pricesCalc_1.getDejPrice)(menu) : (0, pricesCalc_1.getMealPrice)(menu)));\r\n        }\r\n        if (amount > 0 && (!isGoingToPtA || x.price !== \"dej\")) {\r\n            returnString += \"- \" + x.label.replace('X', amount.toString()).replaceAll((amount > 1 ? '$' : '$s'), '') + \"\\n\";\r\n        }\r\n    });\r\n    return returnString;\r\n}\r\nexports.getOFPossibilitesAsList = getOFPossibilitesAsList;\r\n/**\r\n * @param remaining The amount of money missing\r\n * @param menu The menu of the user\r\n * @param dejNumber The number of breakfasts the user does\r\n * @returns {string} The possibilites to save money\r\n */\r\nfunction getNEGPossibilitesAsList(remaining, menu, dejNumber) {\r\n    var returnString = \"\\n\";\r\n    var missing = Math.abs(remaining);\r\n    // Checking if you can reduce the number of breakfasts\r\n    if (dejNumber > 0) {\r\n        var dejAmount = Math.ceil(missing / (0, pricesCalc_1.getDejPrice)(menu));\r\n        // Checking if money is still missing afterwards\r\n        if (dejAmount > dejNumber) {\r\n            var stillMissing = (dejAmount - dejNumber) * (0, pricesCalc_1.getDejPrice)(menu);\r\n            var mealAmount = Math.ceil(stillMissing / (0, pricesCalc_1.getMealPrice)(menu));\r\n            returnString += \" - Ne pas aller au point A du tout et ne pas aller au RI \" + mealAmount + \" fois\\n\";\r\n        }\r\n        else {\r\n            returnString += \"- Ne pas aller au point A \" + dejAmount + \" fois\\n\";\r\n        }\r\n    }\r\n    var mealAmountB = Math.ceil(missing / (0, pricesCalc_1.getMealPrice)(menu));\r\n    returnString += \"- Ne pas aller au RI \" + mealAmountB + \" fois\";\r\n    return returnString;\r\n}\r\nexports.getNEGPossibilitesAsList = getNEGPossibilitesAsList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}