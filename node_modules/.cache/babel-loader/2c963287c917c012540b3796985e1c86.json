{"ast":null,"code":"import _slicedToArray from\"D:/dev/Rest_Calc/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from\"react\";import DataSelection from\"./DataSelection/DataSelection\";import DataDisplay from\"./DataDisplay/DataDisplay\";import{createTheme,ThemeProvider,Divider}from'@mui/material';import{getDejPrice,getMealPrice}from\"./utils/pricesCalc\";import About from\"./About/about\";import useLocalStorage from\"./utils/localStorage\";import HoursSelection from\"./DataSelection/HoursSelection\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var darktheme=createTheme({palette:{mode:\"dark\"}});var _useLocalStorage=useLocalStorage(\"menu\",\"5*\"),_useLocalStorage2=_slicedToArray(_useLocalStorage,2),menu=_useLocalStorage2[0],setMenu=_useLocalStorage2[1];var _useLocalStorage3=useLocalStorage(\"money\",0),_useLocalStorage4=_slicedToArray(_useLocalStorage3,2),money=_useLocalStorage4[0],setMoney=_useLocalStorage4[1];var _useLocalStorage5=useLocalStorage(\"meals\",[0,0]),_useLocalStorage6=_slicedToArray(_useLocalStorage5,2),meals=_useLocalStorage6[0],setMeals=_useLocalStorage6[1];var _useLocalStorage7=useLocalStorage(\"mealPrices\",[]),_useLocalStorage8=_slicedToArray(_useLocalStorage7,2),mealPrices=_useLocalStorage8[0],setMealPrices=_useLocalStorage8[1];var _useLocalStorage9=useLocalStorage(\"total\",{price:0,number:0}),_useLocalStorage10=_slicedToArray(_useLocalStorage9,2),total=_useLocalStorage10[0],setTotal=_useLocalStorage10[1];var _useLocalStorage11=useLocalStorage(\"remaining\",0),_useLocalStorage12=_slicedToArray(_useLocalStorage11,2),remaining=_useLocalStorage12[0],setRemaining=_useLocalStorage12[1];var _useLocalStorage13=useLocalStorage(\"hours\",{diner:\"18:15\",breakfast:\"12:15\",disabled:false}),_useLocalStorage14=_slicedToArray(_useLocalStorage13,2),hours=_useLocalStorage14[0],setHours=_useLocalStorage14[1];React.useEffect(function(){setHours(hours);},[]);React.useEffect(function(){var dej={label:\"Petit déjeuners\",number:meals[0],price:Math.round(meals[0]*getDejPrice(menu)*100)/100};var midi={label:\"Déjeuners/Dîners\",number:meals[1],price:Math.round(meals[1]*getMealPrice(menu)*100)/100};setMealPrices([dej,midi]);var total={price:Math.round((midi.price+dej.price)*100)/100,number:midi.number+dej.number};setTotal(total);setRemaining(Math.round((money-total.price)*100)/100||0);},[menu,money,meals]);return/*#__PURE__*/_jsxs(ThemeProvider,{theme:darktheme,children:[/*#__PURE__*/_jsx(DataSelection,{menuChange:setMenu,moneyChange:setMoney,mealsChange:setMeals,hours:hours}),/*#__PURE__*/_jsx(Divider,{sx:{margin:1}}),/*#__PURE__*/_jsx(HoursSelection,{callback:function callback(h){console.log(h);setHours(h);}}),/*#__PURE__*/_jsx(Divider,{sx:{margin:1}}),/*#__PURE__*/_jsx(DataDisplay,{mealPrices:mealPrices,total:total,remaining:remaining,menu:menu}),/*#__PURE__*/_jsx(Divider,{sx:{margin:1}}),/*#__PURE__*/_jsx(About,{})]});}export default App;","map":{"version":3,"names":["React","DataSelection","DataDisplay","createTheme","ThemeProvider","Divider","getDejPrice","getMealPrice","About","useLocalStorage","HoursSelection","App","darktheme","palette","mode","menu","setMenu","money","setMoney","meals","setMeals","mealPrices","setMealPrices","price","number","total","setTotal","remaining","setRemaining","diner","breakfast","disabled","hours","setHours","useEffect","dej","label","Math","round","midi","margin","h","console","log"],"sources":["D:/dev/Rest_Calc/src/App.js"],"sourcesContent":["import * as React from \"react\"\nimport DataSelection from \"./DataSelection/DataSelection\";\nimport DataDisplay from \"./DataDisplay/DataDisplay\";\nimport { createTheme, ThemeProvider, Divider } from '@mui/material';\nimport { getDejPrice, getMealPrice } from \"./utils/pricesCalc\";\nimport About from \"./About/about\";\nimport useLocalStorage from \"./utils/localStorage\";\nimport HoursSelection from \"./DataSelection/HoursSelection\";\n\nfunction App() {\n  const darktheme = createTheme({\n    palette: {\n      mode: \"dark\",\n    }\n  })\n\n  const [menu, setMenu] = useLocalStorage(\"menu\", \"5*\")\n  const [money, setMoney] = useLocalStorage(\"money\", 0)\n  const [meals, setMeals] = useLocalStorage(\"meals\", [0, 0])\n  \n  const [mealPrices, setMealPrices] = useLocalStorage(\"mealPrices\", [])\n\n  const [total, setTotal] = useLocalStorage(\"total\", {\n    price: 0,\n    number: 0\n  })\n  const [remaining, setRemaining] = useLocalStorage(\"remaining\", 0)\n\n  const [hours, setHours] = useLocalStorage(\"hours\", {diner: \"18:15\", breakfast: \"12:15\", disabled: false})\n\n  React.useEffect(() => {\n    setHours(hours)\n  }, [])\n\n\n  React.useEffect(() => {\n    let dej = {\n      label: \"Petit déjeuners\",\n      number: meals[0],\n      price: Math.round(meals[0] * getDejPrice(menu) * 100) / 100\n    }\n\n    let midi = {\n      label: \"Déjeuners/Dîners\",\n      number: meals[1],\n      price: Math.round(meals[1] * getMealPrice(menu) * 100) / 100\n    }\n\n    setMealPrices([dej, midi])\n\n    let total = {\n      price: Math.round((midi.price + dej.price) * 100) / 100,\n      number: midi.number + dej.number\n    }\n\n    setTotal(total)\n    setRemaining((Math.round((money - total.price) * 100) / 100) || 0)\n  }, [menu, money, meals])\n\n  return (\n    <ThemeProvider theme={darktheme}>\n      <DataSelection menuChange={setMenu} moneyChange={setMoney} mealsChange={setMeals} hours={hours} />\n      <Divider sx={{margin: 1}} />\n      <HoursSelection callback={(h) => {\n        console.log(h)\n        setHours(h)\n      }}/>\n      <Divider sx={{margin: 1}} />\n      <DataDisplay mealPrices={mealPrices} total={total} remaining={remaining} menu={menu}/>\n      <Divider sx={{margin: 1}} />\n      <About />\n    </ThemeProvider>\n\n    );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}